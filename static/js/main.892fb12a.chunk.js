(this["webpackJsonpmusic-theory-app"]=this["webpackJsonpmusic-theory-app"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(5),o=n.n(l),u=(n(12),n(6)),i=n(1),f=(n(13),new Map([["C4",261],["C#4",277.18],["D4",293.66],["D#4",311.13],["E4",329.63],["F4",349.23],["F#4",369.99],["G4",392],["G#4",415.3],["A4",440],["A#4",466.16],["B4",493.88],["C5",523.25],["C#5",554.37],["D5",587.33],["D#5",622.25],["E5",659.25],["F5",698.46],["F#5",739.99],["G5",783.99],["G#5",830.61],["A5",880],["A#5",932.33],["B5",987.77]]));!function(e){e[e.Half=1]="Half",e[e.Whole=2]="Whole"}(a||(a={}));var s=[a.Whole,a.Whole,a.Half,a.Whole,a.Whole,a.Whole,a.Half],m=[a.Whole,a.Half,a.Whole,a.Whole,a.Half,a.Whole,a.Whole],h=[a.Whole,a.Half,a.Whole,a.Whole,a.Whole,a.Whole,a.Half],d=[a.Whole,a.Half,a.Whole,a.Whole,a.Half,a.Whole+a.Half,a.Half],W=[a.Whole,a.Whole,a.Whole,a.Half,a.Whole,a.Whole,a.Half],v=[a.Whole,a.Half,a.Whole+a.Half,a.Half,a.Whole,a.Half,a.Whole],p=[a.Half,a.Whole,a.Half,a.Whole,a.Whole,a.Whole,a.Whole],y=[a.Half,a.Whole,a.Half,a.Whole,a.Half,a.Whole,a.Half],E=[a.Whole,a.Half,a.Whole,a.Whole,a.Whole,a.Half,a.Whole],H=new Map([["Major",s],["Lydian",W],["NaturalMinor",m],["MelodicMinor",h],["HarmonicMinor",d],["Dorian",E],["Satie",v],["Altered",p],["DimDom",y]]),b=new AudioContext,N=b.createOscillator();N.type="sawtooth",N.start();var q=b.createGain();q.gain.value=0,N.connect(q);var S=b.createBiquadFilter();function T(){var e=[];return f.forEach((function(t,n){return e.push(n)})),e}function j(){var e=[];return f.forEach((function(t,n){return e.push(t)})),e}function C(e,t){return function(){e.forEach((function(e,n){N.frequency.setValueAtTime(e,b.currentTime+t*n),q.gain.linearRampToValueAtTime(.2,b.currentTime+t*n),S.frequency.linearRampToValueAtTime(1500,b.currentTime+t*n),q.gain.linearRampToValueAtTime(0,b.currentTime+t*(n+1)),S.frequency.linearRampToValueAtTime(1e3,b.currentTime+t*(n+1))}))}}function g(e,t){var n=T();return function(e,t){var n=[],a=H.get(t);if(!a)return[];var r=T().findIndex((function(t){return t.startsWith(e)}));return n.push(r),a.forEach((function(e){r+=e,n.push(r)})),n}(e,t).map((function(e){return f.get(n[e])}))}S.frequency.value=1e3,q.connect(S),S.connect(b.destination);var k=function(e){var t=e.selected,n=e.itemName,a=e.setNewSelected,r="item";return t&&(r+=" selected"),c.a.createElement("div",{className:r,onClick:function(){return a(n)}},n.replace(/\d+/g,"").replace(/([A-Z]+)/g," $1"))},A=T().slice(0,12),O=function(){var e=[];return H.forEach((function(t,n){return e.push(n)})),e}();var w=function(e){var t=e.keyCenter,n=e.setKeyCenter,a=e.scale,r=e.setScale;return c.a.createElement("div",{className:"flexbox space-around"},c.a.createElement("div",{className:"items"},A.map((function(e){return c.a.createElement(k,{key:e,selected:t===e,itemName:e,setNewSelected:n})}))),c.a.createElement("div",{className:"items"},O.map((function(e){return c.a.createElement(k,{key:e,selected:e===a,itemName:e,setNewSelected:r})}))))};var x=function(e){var t=e.selectedKey,n=e.quizzing,a=e.playSingleNote,r=e.quizState,l=j();function o(e){var a="";if(!function(e){return e>11&&(e-=12),e<=4&&e%2!==0||e>4&&e%2===0}(e)?a+="whiteKey":a+="blackKey",t===e&&(a+=" selectedKey"),n){var c=r.findIndex((function(e){return!0===e.current})),o=r[c].frequency,u=r.map((function(e){return e.frequency}));l[e]<o&&u.includes(l[e])&&(a+=" successKey")}return a}return c.a.createElement("div",{className:"keyboard"},l.map((function(e,t){return c.a.createElement("div",{key:t,onClick:function(){return a(e)},className:o(t)})})))},z=j();function M(e){document.body.classList.add(e),setTimeout((function(){document.body.classList.remove(e)}),2e3)}var K=function(){var e=Object(r.useState)("C4"),t=Object(i.a)(e,2),n=t[0],a=t[1],l=Object(r.useState)("Major"),o=Object(i.a)(l,2),f=o[0],s=o[1],m=Object(r.useState)(-1),h=Object(i.a)(m,2),d=h[0],W=h[1],v=Object(r.useState)([]),p=Object(i.a)(v,2),y=p[0],E=p[1],H=Object(r.useState)(!1),b=Object(i.a)(H,2),N=b[0],q=b[1];function S(){var e=g(n,f),t=function(e,t){var n=g(e,t);return C(n,2.5/n.length)}(n,f),a=0,r=setInterval((function(){if(8===a)clearInterval(r),W(-1);else{0===a&&t();var n=z.findIndex((function(t){return t===e[a]}));W(n),a++}}),312)}return Object(r.useEffect)((function(){q(!1),E([])}),[n,f]),c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"practice your scales"),c.a.createElement(w,{keyCenter:n,setKeyCenter:a,scale:f,setScale:s}),c.a.createElement(x,{selectedKey:d,quizzing:N,playSingleNote:function(e){if(C([e],.3)(),N){var t=y.findIndex((function(e){return!0===e.current}));if(e!==y[t].frequency)q(!1),E([]),M("quizFailed");else{var n=Object(u.a)(y);n[t].current=!1,n[t].correct=!0,n[t+1]?(n[t+1].current=!0,E(n)):(q(!1),E([]),M("quizPassed"))}}},quizState:y}),c.a.createElement("div",{className:"flexbox center"},c.a.createElement("button",{className:"quizBtn",disabled:N,onClick:function(){return function(){var e=g(n,f),t=[];e.forEach((function(e){return t.push({frequency:e,correct:void 0,current:!1})})),t[0].current=!0,E(t),q(!0)}()}},"quiz"),c.a.createElement("button",{className:"playBtn",onClick:function(){return S()}},"play")))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(K,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.892fb12a.chunk.js.map